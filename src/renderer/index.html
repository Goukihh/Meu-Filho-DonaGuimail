<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Meu Filho</title>
    <!-- CSS modularizado para melhor organiza√ß√£o -->
    <link rel="stylesheet" href="styles/variables.css" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="progress-stats.css" />
  </head>
  <body>
    <!-- Tela de carregamento -->
    <div id="loading-screen" class="loading-screen">
      <div class="loading-content">
        <h1>Meu Filho</h1>
        <p>Carregando suas contas...</p>
      </div>
    </div>

    <!-- Barra de t√≠tulo personalizada -->
    <div class="custom-title-bar">
      <div class="title-bar-left">
        <div class="app-icon">üç∫</div>
        <span class="app-title-text">Meu Filho</span>
      </div>
      <div class="title-bar-right">
        <button class="title-bar-btn minimize-btn" id="minimize-btn">
          <svg viewBox="0 0 10 10">
            <rect x="2" y="4.5" width="6" height="1" fill="currentColor" />
          </svg>
        </button>
        <button class="title-bar-btn maximize-btn" id="maximize-btn">
          <svg viewBox="0 0 10 10">
            <rect
              x="2"
              y="2"
              width="6"
              height="6"
              stroke="currentColor"
              stroke-width="1"
              fill="none"
            />
          </svg>
        </button>
        <button class="title-bar-btn close-btn" id="close-btn">
          <svg viewBox="0 0 10 10">
            <path d="M2 2L8 8M8 2L2 8" stroke="currentColor" stroke-width="1.5" fill="none" />
          </svg>
        </button>
      </div>
    </div>

    <!-- Barra de Progresso da Automa√ß√£o (Topo) -->
    <div class="automation-progress-bar" id="automation-progress-bar" style="display: none;">
      <div class="progress-info">
        <span class="progress-label">
          Leva <span id="progress-leva">1</span>/6 ‚Ä¢ 
          Ciclo <span id="progress-cycle">1</span>/4 ‚Ä¢ 
          Conta <span id="progress-account">1</span>/<span id="progress-total-accounts">20</span>
        </span>
        <span class="progress-percentage" id="progress-percentage">0%</span>
      </div>
      <div class="progress-track">
        <div class="progress-fill" id="progress-fill" style="width: 0%">
          <div class="progress-shine"></div>
        </div>
      </div>
    </div>

    <!-- Layout principal -->
    <div class="app-container">
      <!-- Container unificado do topo -->
      <div class="top-container">
        <!-- Camada de fundo personalizado -->
        <div id="background-layer"></div>

        <!-- Header -->
        <div class="header">
          <div class="header-left">
            <h1 class="app-title">Meu Filho</h1>
          </div>
          <div class="header-right">
            <button id="check-updates-btn" class="btn btn-update" title="Verificar Atualiza√ß√µes">
              <svg viewBox="0 0 24 24" style="width: 18px; height: 18px">
                <path
                  d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"
                  fill="currentColor"
                />
              </svg>
            </button>
            <button id="add-account-btn" class="btn btn-add-compact" title="Adicionar Conta">
              <svg viewBox="0 0 24 24" style="width: 18px; height: 18px">
                <path
                  d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"
                  fill="currentColor"
                />
              </svg>
            </button>

            <button
              id="automation-btn"
              class="btn btn-automation-compact"
              title="Automa√ß√£o de Convites"
            >
              <svg viewBox="0 0 24 24" style="width: 18px; height: 18px">
                <path
                  d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M12,6A6,6 0 0,0 6,12A6,6 0 0,0 12,18A6,6 0 0,0 18,12A6,6 0 0,0 12,6M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8Z"
                  fill="currentColor"
                />
              </svg>
            </button>

            <button id="settings-btn" class="btn btn-settings-compact" title="Configura√ß√µes">
              <svg viewBox="0 0 24 24" style="width: 18px; height: 18px">
                <path
                  d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.22,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.22,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.68 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"
                  fill="currentColor"
                />
              </svg>
            </button>
          </div>
        </div>

        <!-- Abas de conta -->
        <div class="avatar-tabs-container">
          <button id="prev-page-btn" class="nav-arrow nav-arrow-left" title="P√°gina anterior">
            <svg viewBox="0 0 24 24">
              <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" />
            </svg>
          </button>
          <div id="avatar-tabs" class="avatar-tabs">
            <!-- As abas de conta ser√£o inseridas aqui dinamicamente -->
          </div>
          <button id="next-page-btn" class="nav-arrow nav-arrow-right" title="Pr√≥xima p√°gina">
            <svg viewBox="0 0 24 24">
              <path d="M8.59 16.59L10 18l6-6-6-6-1.41 1.41L13.17 12z" />
            </svg>
          </button>
        </div>
      </div>
    </div>

    <!-- Modal para adicionar conta -->
    <div id="add-account-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Adicionar Nova Conta</h2>
          <span class="close">&times;</span>
        </div>
        <div class="modal-body">
          <label for="account-name">Nome da Conta:</label>
          <input type="text" id="account-name" placeholder="Ex: Conta Principal" />
        </div>
        <div class="modal-footer">
          <button id="cancel-add-btn" class="btn btn-secondary">Cancelar</button>
          <button id="confirm-add-btn" class="btn btn-primary">Adicionar</button>
        </div>
      </div>
    </div>

    <!-- Menu de contexto para contas -->
    <div id="context-menu" class="context-menu">
      <div class="context-menu-item" data-action="rename">
        <svg viewBox="0 0 24 24">
          <path
            d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"
          />
        </svg>
        Renomear
      </div>
      <div class="context-menu-item" data-action="clear-session">
        <svg viewBox="0 0 24 24">
          <path
            d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"
          />
        </svg>
        Limpar Sess√£o
      </div>
      <div class="context-menu-item" data-action="reload">
        <svg viewBox="0 0 24 24">
          <path
            d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"
          />
        </svg>
        Recarregar
      </div>
      <div class="context-menu-item context-menu-item-danger" data-action="remove">
        <svg viewBox="0 0 24 24">
          <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z" />
        </svg>
        Remover
      </div>
    </div>

    <!-- Aba dedicada para renomea√ß√£o -->
    <div id="rename-tab" class="rename-tab">
      <div class="rename-tab-content">
        <div class="rename-tab-header">
          <h2>Renomear Conta</h2>
          <button id="close-rename-tab" class="close-rename-btn">&times;</button>
        </div>
        <div class="rename-tab-body">
          <label for="rename-account-name">Novo Nome da Conta:</label>
          <input type="text" id="rename-account-name" placeholder="Digite o novo nome..." />
        </div>
        <div class="rename-tab-footer">
          <button id="cancel-rename-btn" class="btn btn-secondary">Cancelar</button>
          <button id="confirm-rename-btn" class="btn btn-primary">Renomear</button>
        </div>
      </div>
    </div>

    <!-- Aba dedicada para limpar sess√£o -->
    <div id="clear-session-tab" class="clear-session-tab">
      <div class="clear-session-tab-content">
        <div class="clear-session-tab-header">
          <h2>Limpar Sess√£o</h2>
          <button id="close-clear-tab" class="close-clear-btn">&times;</button>
        </div>
        <div class="clear-session-tab-body">
          <div class="dialog-icon warning">
            <svg viewBox="0 0 24 24">
              <path d="M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z" fill="currentColor" />
            </svg>
          </div>
          <p>
            Tem certeza que deseja limpar a sess√£o desta conta? Voc√™ precisar√° fazer login
            novamente.
          </p>
        </div>
        <div class="clear-session-tab-footer">
          <button id="cancel-clear-btn" class="btn btn-secondary">Cancelar</button>
          <button id="confirm-clear-btn" class="btn btn-warning">Limpar</button>
        </div>
      </div>
    </div>

    <!-- Aba dedicada para remover conta -->
    <div id="remove-account-tab" class="remove-account-tab">
      <div class="remove-account-tab-content">
        <div class="remove-account-tab-header">
          <h2>Remover Conta</h2>
          <button id="close-remove-tab" class="close-remove-btn">&times;</button>
        </div>
        <div class="remove-account-tab-body">
          <div class="dialog-icon danger">
            <svg viewBox="0 0 24 24">
              <path
                d="M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M17,15.59L15.59,17L12,13.41L8.41,17L7,15.59L10.59,12L7,8.41L8.41,7L12,10.59L15.59,7L17,8.41L13.41,12L17,15.59Z"
                fill="currentColor"
              />
            </svg>
          </div>
          <p>Tem certeza que deseja remover esta conta? Esta a√ß√£o n√£o pode ser desfeita.</p>
        </div>
        <div class="remove-account-tab-footer">
          <button id="cancel-remove-btn" class="btn btn-secondary">Cancelar</button>
          <button id="confirm-remove-btn" class="btn btn-danger">Remover</button>
        </div>
      </div>
    </div>

    <!-- Aba dedicada para adicionar conta -->
    <div id="add-account-tab" class="add-account-tab">
      <div class="add-account-tab-content">
        <div class="add-account-tab-header">
          <h2>Adicionar Nova Conta</h2>
          <button id="close-add-account-tab" class="close-add-account-btn">&times;</button>
        </div>
        <div class="add-account-tab-body">
          <label for="add-account-name">Nome da Conta:</label>
          <input type="text" id="add-account-name" placeholder="Ex: Conta Principal" />
        </div>
        <div class="add-account-tab-footer">
          <button id="cancel-add-account-btn" class="btn btn-secondary">Cancelar</button>
          <button id="confirm-add-account-btn" class="btn btn-primary">Adicionar</button>
        </div>
      </div>
    </div>

    <!-- Aba dedicada para verifica√ß√£o de atualiza√ß√µes -->
    <div id="update-tab" class="update-tab">
      <div class="update-tab-content">
        <div class="update-tab-header">
          <h2>Verificar Atualiza√ß√µes</h2>
          <button id="close-update-tab" class="close-update-btn">&times;</button>
        </div>
        <div class="update-tab-body">
          <div id="update-checking" style="display: none">
            <div style="text-align: center; padding: 40px">
              <div style="font-size: 48px; margin-bottom: 20px">üîÑ</div>
              <p>Verificando atualiza√ß√µes...</p>
              <p style="color: #b9bbbe; font-size: 14px">Por favor, aguarde.</p>
            </div>
          </div>

          <div id="update-info" style="display: none">
            <p><strong>Vers√£o Atual:</strong> <span id="current-version"></span></p>
            <p><strong>Nova Vers√£o:</strong> <span id="latest-version"></span></p>
            <div
              id="release-notes"
              style="
                margin-top: 15px;
                max-height: 200px;
                overflow-y: auto;
                background: #2f3136;
                padding: 10px;
                border-radius: 4px;
                white-space: pre-wrap;
                font-size: 12px;
              "
            ></div>
          </div>

          <div id="no-update-info" style="display: none">
            <div style="text-align: center; padding: 40px">
              <div style="font-size: 48px; margin-bottom: 20px">‚úÖ</div>
              <p>Voc√™ est√° usando a vers√£o mais recente!</p>
              <p style="color: #b9bbbe; font-size: 14px">
                N√£o h√° atualiza√ß√µes dispon√≠veis no momento.
              </p>
            </div>
          </div>

          <div id="error-info" style="display: none">
            <div style="text-align: center; padding: 40px">
              <div style="font-size: 48px; margin-bottom: 20px">‚ùå</div>
              <p style="color: #f04747">Erro ao verificar atualiza√ß√µes</p>
              <p id="error-message" style="color: #b9bbbe; font-size: 14px; margin-top: 10px"></p>
              <p style="color: #72767d; font-size: 12px; margin-top: 5px">
                Verifique sua conex√£o com a internet e tente novamente.
              </p>
            </div>
          </div>
        </div>
        <div class="update-tab-footer">
          <button id="cancel-update-tab-btn" class="btn btn-secondary">Fechar</button>
          <button id="download-update-tab-btn" class="btn btn-primary" style="display: none">
            Baixar Atualiza√ß√£o
          </button>
        </div>
      </div>
    </div>

    <!-- Aba de Restaurar Backup -->
    <div id="restore-tab" class="restore-tab">
      <div class="restore-tab-content">
        <div class="restore-tab-header">
          <h2>Restaurar Backup</h2>
          <button id="close-restore-tab" class="close-restore-btn">&times;</button>
        </div>
        <div class="restore-tab-body">
          <div id="restore-selecting" style="display: none">
            <div style="text-align: center; padding: 20px">
              <div style="font-size: 48px; margin-bottom: 20px">üîÑ</div>
              <p>Backups Dispon√≠veis</p>
              <div id="backup-list" style="max-height: 300px; overflow-y: auto; margin: 20px 0">
                <!-- Lista de backups ser√° preenchida dinamicamente -->
              </div>
            </div>
          </div>

          <div id="restore-processing" style="display: none">
            <div style="text-align: center; padding: 40px">
              <div style="font-size: 48px; margin-bottom: 20px">üîÑ</div>
              <p>Restaurando backup...</p>
              <p style="color: #b9bbbe; font-size: 14px">Por favor, aguarde.</p>
            </div>
          </div>

          <div id="restore-success" style="display: none">
            <div style="text-align: center; padding: 40px">
              <div style="font-size: 48px; margin-bottom: 20px">‚úÖ</div>
              <p id="restore-success-message"></p>
              <p style="color: #b9bbbe; font-size: 14px">
                A p√°gina ser√° recarregada automaticamente.
              </p>
            </div>
          </div>

          <div id="restore-error" style="display: none">
            <div style="text-align: center; padding: 40px">
              <div style="font-size: 48px; margin-bottom: 20px">‚ùå</div>
              <p style="color: #f04747">Erro ao restaurar backup</p>
              <p
                id="restore-error-message"
                style="color: #b9bbbe; font-size: 14px; margin-top: 10px"
              ></p>
              <p style="color: #72767d; font-size: 12px; margin-top: 5px">
                Verifique se o backup √© v√°lido e tente novamente.
              </p>
            </div>
          </div>
        </div>
        <div class="restore-tab-footer">
          <button id="cancel-restore-tab-btn" class="btn btn-secondary">Fechar</button>
        </div>
      </div>
    </div>

    <!-- Aba de Backup -->
    <div id="backup-tab" class="backup-tab">
      <div class="backup-tab-content">
        <div class="backup-tab-header">
          <h2>Fazer Backup</h2>
          <button id="close-backup-tab" class="close-backup-btn">&times;</button>
        </div>
        <div class="backup-tab-body">
          <div id="backup-processing" style="display: none">
            <div style="text-align: center; padding: 40px">
              <div style="font-size: 48px; margin-bottom: 20px">üíæ</div>
              <p>Criando backup completo...</p>
              <p style="color: #b9bbbe; font-size: 14px">
                Salvando contas, sess√µes e dados de login.
              </p>
            </div>
          </div>

          <div id="backup-success" style="display: none">
            <div style="text-align: center; padding: 40px">
              <div style="font-size: 48px; margin-bottom: 20px">‚úÖ</div>
              <p id="backup-success-message"></p>
              <p style="color: #b9bbbe; font-size: 14px">
                Backup salvo automaticamente na pasta de dados.
              </p>
            </div>
          </div>

          <div id="backup-error" style="display: none">
            <div style="text-align: center; padding: 40px">
              <div style="font-size: 48px; margin-bottom: 20px">‚ùå</div>
              <p style="color: #f04747">Erro ao criar backup</p>
              <p
                id="backup-error-message"
                style="color: #b9bbbe; font-size: 14px; margin-top: 10px"
              ></p>
              <p style="color: #72767d; font-size: 12px; margin-top: 5px">
                Verifique as permiss√µes e tente novamente.
              </p>
            </div>
          </div>
        </div>
        <div class="backup-tab-footer">
          <button id="cancel-backup-tab-btn" class="btn btn-secondary">Fechar</button>
        </div>
      </div>
    </div>

    <!-- Aba de Automa√ß√£o de Convites -->
    <div id="automation-tab" class="automation-tab">
      <div class="automation-tab-content">
        <div class="automation-tab-header">
          <h2>Automa√ß√£o de Convites</h2>
          <div class="header-buttons">
            <button id="help-automation-btn" class="help-automation-btn" title="Como usar a automa√ß√£o">?</button>
            <button id="close-automation-tab" class="close-automation-btn">&times;</button>
          </div>
        </div>
        <div class="automation-tab-body">
          <!-- Indicador de Pausa -->
          <div id="paused-indicator" class="paused-indicator" style="display: none">
            ‚è∏Ô∏è AUTOMA√á√ÉO PAUSADA - Feche o painel para continuar
          </div>

          <!-- Estat√≠sticas Permanentes da √öltima Leva -->
          <div class="automation-stats" id="automation-stats-permanent">
            <h3>üìä Estat√≠sticas da √öltima Leva</h3>
            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-icon">üìã</div>
                <div class="stat-content">
                  <div class="stat-label">Nicks Carregados</div>
                  <div class="stat-value" id="stat-nicks-loaded">-</div>
                </div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">üìù</div>
                <div class="stat-content">
                  <div class="stat-label">Nicks Restantes</div>
                  <div class="stat-value" id="stat-nicks-remaining">-</div>
                </div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">üë•</div>
                <div class="stat-content">
                  <div class="stat-label">Contas Vis√≠veis</div>
                  <div class="stat-value" id="stat-accounts-visible">-</div>
                </div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">üì§</div>
                <div class="stat-content">
                  <div class="stat-label">Total de Convites</div>
                  <div class="stat-value" id="stat-total-invites">-</div>
                </div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">‚ö°</div>
                <div class="stat-content">
                  <div class="stat-label">Taxa</div>
                  <div class="stat-value" id="stat-rate">-</div>
                </div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">‚è±Ô∏è</div>
                <div class="stat-content">
                  <div class="stat-label">Tempo Decorrido</div>
                  <div class="stat-value" id="stat-elapsed">-</div>
                </div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">üéØ</div>
                <div class="stat-content">
                  <div class="stat-label">Taxa de Sucesso</div>
                  <div class="stat-value" id="stat-success-rate">-</div>
                </div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">‚úÖ</div>
                <div class="stat-content">
                  <div class="stat-label">Bem-sucedidos</div>
                  <div class="stat-value" id="stat-successful">-</div>
                </div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">‚ùå</div>
                <div class="stat-content">
                  <div class="stat-label">Erros</div>
                  <div class="stat-value" id="stat-errors">-</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Configura√ß√£o de Webhook -->
          <div class="automation-config">
            <h3>üîî Webhook do Grupo (Relat√≥rios)</h3>
            <div class="config-item">
              <label for="webhook-url">URL do Webhook:</label>
              <input
                type="text"
                id="webhook-url"
                placeholder="https://discord.com/api/webhooks/..."
                style="width: 100%"
              />
            </div>
            <div class="automation-info">
              <p>
                <strong>üìä Relat√≥rio Autom√°tico:</strong> Ao completar cada leva, um relat√≥rio completo em PDF ser√° enviado automaticamente para este webhook, contendo todas as estat√≠sticas e screenshots de erros.
              </p>
            </div>
          </div>

          <!-- Identifica√ß√£o do Relat√≥rio -->
          <div class="automation-config">
            <h3>üë§ Identifica√ß√£o do Relat√≥rio</h3>
            <div class="config-item">
              <label for="report-name">Seu Nome:</label>
              <input
                type="text"
                id="report-name"
                placeholder="Digite seu nome..."
                style="width: 100%; margin-bottom: 15px;"
              />
            </div>
            <div class="config-item">
              <label for="total-accounts">Contas Di√°rias (usadas HOJE):</label>
              <input
                type="number"
                id="total-accounts"
                placeholder="Ex: 20, 40, 60..."
                min="1"
                max="100"
                style="width: 100%; margin-bottom: 15px;"
              />
              <p style="font-size: 12px; color: #999; margin: 5px 0 0 0;">
                ‚ÑπÔ∏è Digite quantas contas voc√™ vai usar HOJE. Se usar 40 contas por dia mas s√≥ v√™ 20 por vez, digite 40.<br>
                O sistema vai aguardar voc√™ completar TODAS antes de enviar o relat√≥rio.
              </p>
            </div>
            <div class="config-item" style="display: flex; align-items: center; gap: 15px;">
              <div>
                <label style="display: block; margin-bottom: 8px;">Foto de Perfil:</label>
                <div id="profile-photo-container" style="position: relative; width: 100px; height: 100px;">
                  <div id="profile-photo-circle" style="
                    width: 100px;
                    height: 100px;
                    border-radius: 50%;
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    cursor: pointer;
                    overflow: hidden;
                    border: 3px solid rgba(255, 255, 255, 0.2);
                    transition: all 0.3s ease;
                  ">
                    <span id="profile-photo-placeholder" style="
                      font-size: 40px;
                      color: white;
                      user-select: none;
                    ">üì∏</span>
                    <img id="profile-photo-preview" style="
                      width: 100%;
                      height: 100%;
                      object-fit: cover;
                      display: none;
                    " />
                  </div>
                  <input type="file" id="profile-photo-input" accept="image/*" style="display: none;" />
                </div>
              </div>
              <div style="flex: 1;">
                <p style="margin: 0; font-size: 13px; color: #999;">
                  Clique no c√≠rculo para selecionar uma foto.<br>
                  Formatos: JPG, PNG, GIF<br>
                  <span id="profile-status" style="color: #28a745; font-weight: bold;">Salvo automaticamente ‚úì</span>
                </p>
              </div>
            </div>
            <div class="automation-info">
              <p>
                <strong>üìã Seu relat√≥rio:</strong> Essas informa√ß√µes ser√£o inclu√≠das no PDF para f√°cil identifica√ß√£o pelos analistas.
              </p>
            </div>
          </div>

          <!-- Configura√ß√µes de Delay -->
          <div class="automation-config">
            <div class="automation-info">
              <p>
                <strong>Modo:</strong> 1 leva = 4 ciclos = 4 convites por conta = 80 convites total
              </p>
              <p>
                <strong>Uso:</strong> Execute quando quiser. Feche o app e reabra para fazer mais
                uma leva!
              </p>
            </div>
          </div>


          <!-- Logs em Tempo Real -->
          <div class="automation-logs">
            <h3>Logs da Automa√ß√£o</h3>
            <div id="automation-log" class="log-container">
              <div class="log-entry">
                Sistema de automa√ß√£o pronto. Clique em "Iniciar" para come√ßar.
              </div>
            </div>
          </div>
        </div>
        <div class="automation-tab-footer">
          <button id="load-nicks-btn" class="btn btn-secondary">Carregar Nicks</button>
          <button id="load-accounts-btn" class="btn btn-secondary">Carregar Contas</button>
          <button id="reset-progress-btn" class="btn btn-secondary">Resetar Ciclo</button>
          <button id="cleanup-dms-friends-btn" class="btn btn-primary">Limpar DMs e Amigos</button>
          <button id="start-automation-btn" class="btn btn-primary">Iniciar Automa√ß√£o</button>
          <button id="pause-automation-btn" class="btn btn-warning" style="display: none">
            Pausar
          </button>
          <button id="stop-automation-btn" class="btn btn-danger" style="display: none">
            Parar
          </button>
          <!-- Bot√£o de teste oculto (s√≥ aparece em modo dev) -->
          <button id="test-report-btn" class="btn" style="display: none; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; margin-left: auto;">
            üß™ Testar Relat√≥rio
          </button>
        </div>
      </div>
    </div>

    <!-- Modal de Configura√ß√µes de Fundo -->
    <div id="background-settings-modal" class="background-settings-modal">
      <div class="background-settings-content">
        <div class="background-settings-header">
          <h2>Personalizar Fundo</h2>
          <button id="close-background-settings" class="close-background-settings-btn">
            &times;
          </button>
        </div>
        <div class="background-settings-body">
          <!-- Layout em duas colunas para compactar -->
          <div class="settings-grid">
            <!-- Coluna Esquerda -->
            <div class="settings-column">
              <!-- Se√ß√£o de Gerenciamento de Contas -->
              <div class="accounts-section">
                <h3>Gerenciar Contas</h3>
                <div class="accounts-actions">
                  <button
                    id="create-backup-btn"
                    class="btn btn-export-settings"
                    title="Fazer Backup Completo"
                  >
                    <svg viewBox="0 0 24 24" style="width: 16px; height: 16px">
                      <path
                        d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"
                        fill="currentColor"
                      />
                    </svg>
                    FAZER BACKUP
                  </button>

                  <button
                    id="restore-backup-btn"
                    class="btn btn-import-settings"
                    title="Restaurar Backup"
                  >
                    <svg viewBox="0 0 24 24" style="width: 16px; height: 16px">
                      <path
                        d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"
                        fill="currentColor"
                      />
                    </svg>
                    RESTAURAR BACKUP
                  </button>
                </div>
              </div>

              <!-- Se√ß√£o de Personaliza√ß√£o de Cores -->
              <div class="colors-section">
                <h3>Personalizar Cores</h3>
                <div class="color-picker-container">
                  <label for="primary-color-picker" class="color-label">
                    <svg viewBox="0 0 24 24" style="width: 18px; height: 18px; margin-right: 6px">
                      <path
                        d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M12,6A6,6 0 0,0 6,12A6,6 0 0,0 12,18A6,6 0 0,0 18,12A6,6 0 0,0 12,6M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8Z"
                        fill="currentColor"
                      />
                    </svg>
                    Cor Principal
                  </label>
                  <div class="color-picker-wrapper">
                    <input
                      type="color"
                      id="primary-color-picker"
                      value="#FF6B35"
                      class="color-picker"
                    />
                  </div>
                  <div class="color-actions">
                    <button id="apply-colors-btn" class="btn btn-apply-colors">Aplicar</button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Coluna Direita -->
            <div class="settings-column">
              <!-- Se√ß√£o de Fundo Personalizado -->
              <div class="background-section">
                <h3>Fundo Personalizado</h3>
                <div class="upload-section">
                  <label for="image-upload-input" class="upload-label">
                    <svg viewBox="0 0 24 24" style="width: 18px; height: 18px; margin-right: 6px">
                      <path
                        d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"
                        fill="currentColor"
                      />
                    </svg>
                    Escolher Imagem
                  </label>
                  <input
                    type="file"
                    id="image-upload-input"
                    accept="image/*"
                    style="display: none"
                  />
                </div>
                <div class="dimensions-info">
                  <svg
                    viewBox="0 0 24 24"
                    style="
                      width: 14px;
                      height: 14px;
                      margin-right: 4px;
                      color: var(--gragas-orange);
                    "
                  >
                    <path
                      d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M12,6A6,6 0 0,0 6,12A6,6 0 0,0 12,18A6,6 0 0,0 18,12A6,6 0 0,0 12,6M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8Z"
                      fill="currentColor"
                    />
                  </svg>
                  <span><strong>1195 x 179px</strong> recomendado</span>
                </div>
              </div>

              <!-- Preview Section -->
              <div class="preview-section">
                <h3>Preview</h3>
                <div class="preview-container">
                  <img
                    id="background-preview"
                    src=""
                    alt="Preview do fundo"
                    style="display: none"
                  />
                  <div id="no-preview" class="no-preview">
                    <svg viewBox="0 0 24 24" style="width: 32px; height: 32px">
                      <path
                        d="M21,19V5C21,3.89 20.1,3 19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19M19,19H5V5H19V19Z"
                        fill="currentColor"
                      />
                    </svg>
                    <p>Nenhuma imagem</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="background-settings-footer">
          <button id="reset-colors-btn" class="btn btn-secondary">Restaurar Padr√£o</button>
          <button id="weak-pc-btn" class="btn btn-weak-pc-compact" title="Modo PC Fraco">
            <svg viewBox="0 0 16 16" style="width: 14px; height: 14px; margin-right: 6px">
              <path
                d="M8 1L9.5 2.5L8 4L6.5 2.5L8 1ZM8 12L6.5 13.5L8 15L9.5 13.5L8 12ZM1 8L2.5 6.5L4 8L2.5 9.5L1 8ZM12 8L13.5 9.5L15 8L13.5 6.5L12 8ZM8 3C5.8 3 4 4.8 4 7C4 9.2 5.8 11 8 11C10.2 11 12 9.2 12 7C12 4.8 10.2 3 8 3ZM8 4C9.7 4 11 5.3 11 7C11 8.7 9.7 10 8 10C6.3 10 5 8.7 5 7C5 5.3 6.3 4 8 4Z"
                fill="currentColor"
              />
            </svg>
            <span id="weak-pc-text">PC Fraco</span>
          </button>
          <button id="save-background-btn" class="btn btn-primary">Salvar</button>
        </div>
      </div>
    </div>

    <!-- Sistema de Confirma√ß√£o Customizado -->
    <div id="custom-confirm-dialog" class="custom-confirm-dialog">
      <div class="confirm-content">
        <div class="confirm-header">
          <div class="confirm-title">Confirmar A√ß√£o</div>
          <button class="confirm-close" onclick="closeCustomConfirm()">
            <svg viewBox="0 0 24 24">
              <path
                d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"
                fill="currentColor"
              />
            </svg>
          </button>
        </div>
        <div class="confirm-body">
          <div class="confirm-icon">
            <svg viewBox="0 0 24 24">
              <path d="M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z" fill="currentColor" />
            </svg>
          </div>
          <div class="confirm-message">Tem certeza que deseja realizar esta a√ß√£o?</div>
        </div>
        <div class="confirm-actions">
          <button class="confirm-btn confirm-cancel" onclick="handleCustomConfirm(false)">
            CANCELAR
          </button>
          <button class="confirm-btn confirm-confirm" onclick="handleCustomConfirm(true)">
            CONFIRMAR
          </button>
        </div>
      </div>
    </div>

    <!-- Modal Tutorial de Automa√ß√£o -->
    <div id="tutorial-modal" class="tutorial-modal" style="display: none;">
      <div class="tutorial-content">
        <div class="tutorial-header">
          <h2>üéì Como Usar a Automa√ß√£o</h2>
          <button id="close-tutorial-btn" class="close-tutorial-btn">&times;</button>
        </div>
        <div class="tutorial-body">
          
          <div class="tutorial-section">
            <h3>üìã PASSO 1: Preparar Lista de Nicks</h3>
            <ul>
              <li>Crie um arquivo <strong>.txt</strong></li>
              <li>Coloque um username por linha</li>
              <li>Clique em <strong>"Carregar Nicks"</strong></li>
            </ul>
          </div>

          <div class="tutorial-divider"></div>

          <div class="tutorial-section">
            <h3>üîî PASSO 2: Configurar Webhook (Relat√≥rios)</h3>
            <ul>
              <li>Abra seu <strong>servidor Discord PRIVADO</strong></li>
              <li>V√° em: <strong>Configura√ß√µes do Canal ‚Üí Integra√ß√µes</strong></li>
              <li>Clique em <strong>"Criar Webhook"</strong></li>
              <li>Copie a URL e cole no <strong>campo do webhook</strong></li>
              <li><strong>üí° Os relat√≥rios em PDF chegar√£o aqui!</strong></li>
            </ul>
          </div>

          <div class="tutorial-divider"></div>

          <div class="tutorial-section">
            <h3>üë§ PASSO 3: Configurar Identifica√ß√£o</h3>
            <ul>
              <li>Digite seu nome (aparecer√° no relat√≥rio)</li>
              <li><strong>Defina QUANTAS CONTAS USA HOJE</strong></li>
              <li style="margin-left: 20px;">‚Üí Se usar 40 contas/dia ‚Üí Digite: <strong>40</strong></li>
              <li style="margin-left: 20px;">‚Üí Se usar 20 contas/dia ‚Üí Digite: <strong>20</strong></li>
              <li>Adicione foto de perfil (opcional)</li>
            </ul>
          </div>

          <div class="tutorial-divider"></div>

          <div class="tutorial-section">
            <h3>üöÄ PASSO 4: Iniciar Automa√ß√£o</h3>
            <ul>
              <li>Clique em <strong>"‚ñ∂Ô∏è Iniciar Automa√ß√£o"</strong></li>
              <li><strong>RESOLVA O CAPTCHA</strong> quando aparecer</li>
              <li>O sistema faz o resto automaticamente!</li>
            </ul>
          </div>

          <div class="tutorial-divider"></div>

          <div class="tutorial-section">
            <h3>üìä SISTEMA DE LEVAS (1/6, 2/6... 6/6)</h3>
            <ul>
              <li>Cada leva = rodada completa de envios</li>
              <li>Voc√™ faz <strong>6 levas</strong> para completar o ciclo</li>
            </ul>
          </div>

          <div class="tutorial-divider"></div>

          <div class="tutorial-section highlight-warning">
            <h3>‚ö†Ô∏è SE TIVER MAIS DE 20 CONTAS:</h3>
            <ul>
              <li>Automa√ß√£o pausa quando terminar 1¬™ p√°gina</li>
              <li><strong>V√Å PARA PR√ìXIMA ABA DE CONTAS</strong></li>
              <li>Clique <strong>"‚ñ∂Ô∏è Iniciar"</strong> novamente</li>
              <li>Repita at√© processar TODAS as contas</li>
              <li>S√≥ ent√£o o relat√≥rio ser√° enviado!</li>
            </ul>
            <p class="tutorial-tip">
              üí° O sistema aguarda voc√™ completar <strong>TODAS</strong> as contas configuradas antes de enviar o relat√≥rio da leva.
            </p>
          </div>

          <div class="tutorial-divider"></div>

          <div class="tutorial-section">
            <h3>‚úÖ QUANDO O RELAT√ìRIO √â ENVIADO?</h3>
            <ul>
              <li>S√≥ depois de processar <strong>TODAS</strong> as contas</li>
              <li>Vai chegar um PDF no webhook do Discord</li>
              <li>Cont√©m: Estat√≠sticas + Screenshots de erros</li>
            </ul>
          </div>

          <div class="tutorial-divider"></div>

          <div class="tutorial-section">
            <h3>‚ùì D√öVIDAS COMUNS</h3>
            <div class="tutorial-faq">
              <div class="faq-item">
                <strong>Q: Posso fechar o programa durante automa√ß√£o?</strong>
                <p>A: Sim! O progresso √© salvo automaticamente.</p>
              </div>
              <div class="faq-item">
                <strong>Q: E se a internet cair?</strong>
                <p>A: Continue de onde parou ao reabrir!</p>
              </div>
              <div class="faq-item">
                <strong>Q: Quanto tempo demora cada leva?</strong>
                <p>A: Depende das contas, m√©dia 10-20 minutos.</p>
              </div>
            </div>
          </div>

          <div class="tutorial-divider"></div>

          <div class="tutorial-section highlight-warning">
            <h3>‚ö†Ô∏è IMPORTANTE: Tempo Entre Levas</h3>
            <p class="tutorial-tip">
              ‚è∞ <strong>RESPEITE O TEMPO CORRETO ENTRE CADA LEVA!</strong><br>
              Aguarde pelo menos <strong>1-2 horas</strong> entre levas para evitar que o Discord fique lento ou detecte spam. Resolver muitos captchas rapidamente pode causar problemas de desempenho.
            </p>
          </div>

        </div>
      </div>
    </div>

    <script src="audio/sounds.js"></script>
    <script src="renderer.js"></script>
    <script src="automation/automation-engine.js"></script>
  </body>
</html>
